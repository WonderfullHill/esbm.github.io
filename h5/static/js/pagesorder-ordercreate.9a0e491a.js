(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesorder-ordercreate","pagesorder-components-coupon-select","pagesorder-components-product-list"],{"0f4e":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{curCoupon:{}}},props:{list:{type:Array,default:function(){return[]}}},methods:{confirm:function(){this.$emit("confirm",this.curCoupon),this.close()},checkCoupon:function(t){this.curCoupon._id===t._id?this.curCoupon={}:this.curCoupon=t},open:function(t){this.$refs.popup.open()},close:function(){this.$refs.popup.close()}}};e.default=i},"11b8":function(t,e,a){"use strict";var i=a("1492"),n=a.n(i);n.a},1492:function(t,e,a){var i=a("d6b44");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("329b1c6b",i,!0,{sourceMap:!1,shadowMode:!1})},"1d09":function(t,e,a){var i=a("ad42");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("65919db3",i,!0,{sourceMap:!1,shadowMode:!1})},2998:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("uni-popup",{ref:"popup",attrs:{type:"bottom"}},[a("v-uni-view",{staticClass:"wrap"},[a("v-uni-view",{staticClass:"s-header center"},[a("v-uni-text",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-text",[t._v("请选择优惠券")]),a("v-uni-text",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确定")])],1),a("v-uni-scroll-view",{staticClass:"scroll-view",attrs:{"scroll-y":"true"}},t._l(t.list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"coupon-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.checkCoupon(e)}}},[a("v-uni-view",{staticClass:"con"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(e.title))]),a("v-uni-text",{staticClass:"time"},[t._v("有效期至 "+t._s(t._f("date")(e.end_time,"Y-m-d H:i")))])],1),a("v-uni-view",{staticClass:"right"},[a("v-uni-text",{staticClass:"price"},[t._v(t._s(e.coupon_money))]),a("v-uni-text",[t._v("满"+t._s(e.total_money)+"可用")])],1),a("v-uni-view",{staticClass:"circle l"}),a("v-uni-view",{staticClass:"circle r"})],1),a("v-uni-view",{staticClass:"bot row"},[a("v-uni-text",{staticClass:"tips"},[t._v("平台所有商品可用")]),t.curCoupon._id===e._id?a("v-uni-text",{staticClass:"mix-icon icon-xuanzhong"}):t._e()],1)],1)})),1)],1)],1)},n=[]},"3d5a":function(t,e,a){"use strict";var i=a("f165"),n=a.n(i);n.a},4400:function(t,e,a){"use strict";a.r(e);var i=a("0f4e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},5253:function(t,e,a){"use strict";var i=a("bb87"),n=a.n(i);n.a},5267:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 主要颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.b-b[data-v-1c49b557]:after{left:%?4?%;right:%?4?%;border-color:#ececec}.app[data-v-1c49b557]{padding:%?16?% %?24?% %?20?%}.main-wrap[data-v-1c49b557]{opacity:0;transition:.2s}.main-wrap.show[data-v-1c49b557]{opacity:1}.addr-sec[data-v-1c49b557]{display:flex;padding:%?20?%;background-color:#fff;border-radius:%?10?%;position:relative;overflow:hidden}.addr-sec .addr-empty[data-v-1c49b557]{margin:%?16?% 0 %?24?%;font-size:%?30?%;color:#666}.addr-sec .addr-empty .icon-dizhi[data-v-1c49b557]{-webkit-transform:translateY(%?0?%);transform:translateY(%?0?%);margin-right:%?16?%}.addr-sec .addr-wrap[data-v-1c49b557]{display:flex;flex:1}.addr-sec .icon-dizhi[data-v-1c49b557]{-webkit-transform:translateY(%?6?%);transform:translateY(%?6?%);font-size:%?32?%;color:#ff536f}.addr-sec .icon-you[data-v-1c49b557]{flex-shrink:0;-webkit-transform:translateY(50%);transform:translateY(50%);position:relative;top:%?-14?%;font-size:%?26?%;color:#999}.addr-sec .con[data-v-1c49b557]{flex:1;padding:0 %?80?% %?10?% %?20?%}.addr-sec .addr[data-v-1c49b557]{margin-bottom:%?16?%;font-size:%?30?%;color:#333;line-height:1.4;font-weight:700}.addr-sec .name[data-v-1c49b557]{font-size:%?28?%;color:#999}.addr-sec .bg[data-v-1c49b557]{position:absolute;left:0;bottom:0;width:100%;height:%?4?%}.goods-sec[data-v-1c49b557]{margin-top:%?16?%;background-color:#fff;border-radius:%?10?% %?10?% 0 0;overflow:hidden}.price-sec[data-v-1c49b557]{padding-top:%?14?%;border-radius:0 0 %?10?% %?10?%;background-color:#fff}.price-sec .cell[data-v-1c49b557]{height:%?68?%;padding:0 %?24?%;font-size:%?26?%;color:#333}.price-sec .price[data-v-1c49b557]{font-weight:700}.price-sec .price.red[data-v-1c49b557]{color:#ff536f}.price-sec .price.disabled[data-v-1c49b557]{color:#999;font-weight:400}.price-sec .total[data-v-1c49b557]{justify-content:flex-end;height:%?80?%;padding-right:%?20?%;margin-top:%?16?%;font-size:%?30?%;color:#333}.price-sec .total .price[data-v-1c49b557]:before{content:"小计：";font-weight:400}.price-sec .tag[data-v-1c49b557]{padding:%?6?% %?8?%;margin-right:%?8?%;font-size:%?20?%;color:#fff;border-radius:%?8?%;background-color:orange}.price-sec .tag.red[data-v-1c49b557]{background-color:#ff536f}.price-sec .icon-you[data-v-1c49b557]{margin-left:%?8?%;font-size:%?20?%;color:#999}.remarks[data-v-1c49b557]{padding:%?24?% %?24?%;margin-top:%?16?%;border-radius:%?12?%;background-color:#fff}.remarks .title[data-v-1c49b557]{margin-bottom:%?24?%;font-size:%?30?%;color:#333;font-weight:700}.remarks .input[data-v-1c49b557]{flex:1;min-height:%?140?%;font-size:%?28?%;color:#333}.bot-fill-view[data-v-1c49b557]{width:100%;height:%?100?%;box-sizing:initial;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bottom[data-v-1c49b557]{position:fixed;left:0;bottom:0;z-index:90;width:100%;height:%?100?%;background-color:#fff;box-shadow:0 %?-2?% %?10?% 0 rgba(0,0,0,.06);box-sizing:initial;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bottom .tip[data-v-1c49b557]{margin-left:%?24?%;font-size:%?28?%;color:#999}.bottom .price[data-v-1c49b557]{margin-right:%?30?%;font-size:%?36?%;color:#ff536f;font-weight:700;text-align:right}.bottom .btn[data-v-1c49b557]{min-width:%?180?%;height:%?70?%;padding:0 %?26?%;margin-right:%?20?%;border-radius:%?100?%;background-color:#ff536f;font-size:%?30?%;color:#fff}',""]),t.exports=e},"71d0":function(t,e,a){"use strict";var i=a("1d09"),n=a.n(i);n.a},"79c9":function(t,e,a){"use strict";a.r(e);var i=a("7aff"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7aff":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(a("b503"));var n={data:function(){return{showAll:!1}},props:{list:{type:Array,default:function(){return[]}}},methods:{showMore:function(){this.showAll=!this.showAll}}};e.default=n},8027:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 主要颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.more-btn[data-v-35e8122e]{padding:%?16?% 0 %?12?%;margin-top:%?-4?%;font-size:%?24?%;color:#999;position:relative;z-index:10;background-color:#fff}.more-btn .icon-xia[data-v-35e8122e]{margin-left:%?4?%;font-size:%?28?%}.more-btn .active[data-v-35e8122e]{-webkit-transform:scale(-1);transform:scale(-1)}.list[data-v-35e8122e]{max-height:%?380?%;overflow:hidden}.list.show[data-v-35e8122e]{max-height:%?9999?%}.item[data-v-35e8122e]{width:100%;height:%?190?%;padding:%?24?% 0 %?24?% %?24?%;background-color:#fff}.item[data-v-35e8122e]:after{border-color:#e5e5e5}.pic[data-v-35e8122e]{flex-shrink:0;width:%?140?%;height:%?140?%;margin-right:%?20?%;border-radius:%?6?%}.right[data-v-35e8122e]{flex:1;color:#333;overflow:hidden}.title[data-v-35e8122e]{margin-right:%?24?%;margin-top:%?0?%;font-size:%?30?%;line-height:%?40?%}.sku[data-v-35e8122e]{height:%?40?%;margin:%?10?% 0 %?20?%;line-height:%?40?%;font-size:%?24?%;color:#888}.price-wrap[data-v-35e8122e]{display:flex;align-items:baseline;padding-right:%?20?%}.price[data-v-35e8122e]{margin-right:%?16?%;font-size:%?28?%;line-height:1}.price[data-v-35e8122e]:before{content:"￥";font-size:%?26?%}.number[data-v-35e8122e]{font-size:%?26?%;color:#666}',""]),t.exports=e},"87d1":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"app column"},[a("v-uni-view",{staticClass:"main-wrap",class:{show:t.loaded}},[a("v-uni-view",{staticClass:"addr-sec",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/address/list?choose=1&id="+t.addr.id)}}},[t.addr._id?a("v-uni-view",{staticClass:"addr-wrap"},[a("v-uni-text",{staticClass:"mix-icon icon-dizhi"}),a("v-uni-view",{staticClass:"con column"},[a("v-uni-text",{staticClass:"addr"},[t._v(t._s(t.addr.address.address)+" "+t._s(t.addr.address.room))]),a("v-uni-text",{staticClass:"name"},[t._v(t._s(t.addr.name)+" "+t._s(t.addr.mobile))])],1)],1):a("v-uni-view",{staticClass:"addr-empty row fill"},[a("v-uni-text",{staticClass:"mix-icon icon-dizhi"}),a("v-uni-text",[t._v("请选择收货地址")])],1),a("v-uni-text",{staticClass:"mix-icon icon-you"}),a("v-uni-image",{staticClass:"bg",attrs:{src:"/static/icon/addr-line.png"}})],1),a("v-uni-view",{staticClass:"goods-sec"},[a("product-list",{attrs:{list:t.data.products}})],1),a("v-uni-view",{staticClass:"price-sec"},[a("v-uni-view",{staticClass:"cell row"},[a("v-uni-text",{staticClass:"tit fill"},[t._v("商品金额")]),a("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(t._f("price")(t.goodsTotal,2)))])],1),a("v-uni-view",{staticClass:"cell row"},[a("v-uni-text",{staticClass:"tag"},[t._v("满")]),a("v-uni-text",{staticClass:"tit fill"},[t._v("订单满减")]),a("v-uni-text",{staticClass:"price",class:{red:t.fullReductionMoney>0}},[t._v("-￥"+t._s(t.fullReductionMoney||0))])],1),a("v-uni-view",{staticClass:"cell row",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCouponPopup.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"tag red"},[t._v("券")]),a("v-uni-text",{staticClass:"tit fill"},[t._v("优惠券")]),0===t.data.coupons.length?a("v-uni-text",{staticClass:"price disabled"},[t._v("暂无可用")]):[t.curCoupon._id?a("v-uni-text",{staticClass:"price red"},[t._v("-￥"+t._s(t.curCoupon.coupon_money))]):a("v-uni-text",{staticClass:"price red",staticStyle:{"font-weight":"normal"}},[t._v("请选择优惠券")]),a("v-uni-text",{staticClass:"mix-icon icon-you"})]],2),a("v-uni-view",{staticClass:"cell row"},[a("v-uni-text",{staticClass:"tit fill"},[t._v("配送费")]),a("v-uni-text",{staticClass:"price"},[t._v("￥0")])],1),a("v-uni-view",{staticClass:"total row b-t"},[a("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(t._f("price")(t.payTotal,2)))])],1)],1),a("v-uni-view",{staticClass:"remarks column"},[a("v-uni-text",{staticClass:"title"},[t._v("订单备注：")]),a("v-uni-textarea",{staticClass:"input",attrs:{"auto-height":!0,placeholder:"选填，合理需求我们会尽量满足 ..","placeholder-style":"color: #999"},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1),a("v-uni-view",{staticClass:"bot-fill-view"}),a("v-uni-view",{staticClass:"bottom row"},[a("v-uni-view",{staticClass:"fill"},[a("v-uni-text",{staticClass:"tip"},[t._v("实付款：")]),a("v-uni-text",{staticClass:"price fill"},[t._v("￥"+t._s(t._f("price")(t.payTotal,2)))])],1),a("v-uni-view",{staticClass:"btn center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createOrder.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("提交订单")])],1)],1)],1),a("coupon-select",{ref:"couponSelect",attrs:{list:t.data.coupons},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onCheckCoupon.apply(void 0,arguments)}}}),t.isLoading?a("mix-loading",{attrs:{type:t.loaded?1:2,mask:!0}}):t._e()],1)},n=[]},ad42:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-1c49b557]{background-color:#f7f7f7}body.?%PAGE?%[data-v-1c49b557]{background-color:#f7f7f7}",""]),t.exports=e},bb87:function(t,e,a){var i=a("5267");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("15b556dc",i,!0,{sourceMap:!1,shadowMode:!1})},c0d9:function(t,e,a){"use strict";a.r(e);var i=a("d956"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c277:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"list",class:{show:t.showAll}},t._l(t.list,(function(e){return a("v-uni-view",{key:e._id,staticClass:"item row b-b",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navTo("/pages/product/detail?id="+e.sku.product_id)}}},[a("v-uni-image",{staticClass:"pic",attrs:{src:e.image,mode:"aspectFill"}}),a("v-uni-view",{staticClass:"right column"},[a("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(e.title))]),a("v-uni-text",{staticClass:"sku"},[t._v(t._s(e.sku?e.sku.name:""))]),a("v-uni-view",{staticClass:"price-wrap"},[a("v-uni-text",{staticClass:"price"},[t._v(t._s(e.price))]),a("v-uni-text",{staticClass:"number"},[t._v("x "+t._s(e.number))])],1)],1)],1)})),1),t.list.length>2?a("v-uni-view",{staticClass:"more-btn center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showMore.apply(void 0,arguments)}}},[a("v-uni-text",[t._v(t._s(t.showAll?"收起":"查看更多"))]),a("v-uni-text",{staticClass:"mix-icon icon-xia",class:{active:t.showAll}})],1):t._e()],1)},n=[]},d6b44:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 主要颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.wrap[data-v-4ea03ee2]{padding-bottom:%?10?%;border-radius:%?16?% %?16?% 0 0;background-color:#f7f7f7}.s-header[data-v-4ea03ee2]{justify-content:space-between;padding:%?30?% 0 %?14?%;font-size:%?32?%;color:#333;font-weight:700}.s-header .btn[data-v-4ea03ee2]{padding:%?10?% %?36?%;font-size:%?28?%;color:#666;font-weight:400}.s-header .btn[data-v-4ea03ee2]:last-child{color:#ff536f}.scroll-view[data-v-4ea03ee2]{min-height:50vh;max-height:70vh}.coupon-item[data-v-4ea03ee2]{display:flex;flex-direction:column;margin:%?20?% %?24?%;background:#fff}.coupon-item .con[data-v-4ea03ee2]{display:flex;align-items:center;position:relative;height:%?140?%;padding:0 %?30?%}.coupon-item .con[data-v-4ea03ee2]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #e5e5e5;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-item .left[data-v-4ea03ee2]{display:flex;flex-direction:column;justify-content:center;flex:1;overflow:hidden;height:%?100?%}.coupon-item .title[data-v-4ea03ee2]{font-size:%?32?%;color:#333;margin-bottom:%?24?%}.coupon-item .time[data-v-4ea03ee2]{font-size:%?24?%;color:#999}.coupon-item .right[data-v-4ea03ee2]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-left:%?30?%;font-size:%?24?%;color:#666;height:%?100?%}.coupon-item .price[data-v-4ea03ee2]{margin-bottom:%?14?%;font-size:%?50?%;color:#ff536f;font-weight:700}.coupon-item .price[data-v-4ea03ee2]:before{content:"￥";font-size:%?34?%}.coupon-item .bot[data-v-4ea03ee2]{height:%?72?%;padding:0 %?28?% 0 %?30?%}.coupon-item .bot .tips[data-v-4ea03ee2]{flex:1;font-size:%?24?%;color:#999}.coupon-item .bot .icon-xuanzhong[data-v-4ea03ee2]{font-size:%?36?%;color:#ff536f}.coupon-item .circle[data-v-4ea03ee2]{position:absolute;left:%?-6?%;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f3f3f3;border-radius:100px}.coupon-item .circle.r[data-v-4ea03ee2]{left:auto;right:%?-6?%}',""]),t.exports=e},d6c2:function(t,e,a){"use strict";a.r(e);var i=a("c277"),n=a("79c9");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("3d5a");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"35e8122e",null,!1,i["a"],void 0);e["default"]=s.exports},d956:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),r=i(a("c7eb")),o=i(a("1da1"));a("d3b7"),a("159b"),a("e9c4");var s=i(a("0b4e")),c=(i(a("b85c")),i(a("b503")),i(a("d6c2"))),d=i(a("e855")),u={components:{dataItem:{},productList:c.default,couponSelect:d.default},data:function(){return{remarks:"",addr:{},data:{products:[],coupons:[]},curCoupon:{},payTotal:0,fullReductionMoney:0}},computed:{goodsTotal:function(){if(0===this.data.products.length)return 0;var t=0;return this.data.products.forEach((function(e){t+=e.price*e.number})),t}},onLoad:function(t){s.default.getUser(!0)&&(console.log("onLoad========》"+t+JSON.stringify(t)),s.default.isNull(t.data)?s.default.show("缺少父级类目ID"):dataItem=JSON.parse(t.data))},methods:{loadData:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var a,i,n;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="cart"===t.createType?"getCartConfirmData":"getBuyNowConfirmData",i="cart"===t.createType?{ids:t.cartIds.split(",")}:t.buyData,e.next=4,t.$request("order",a,i,{showLoading:!0});case 4:n=e.sent,t.addr=n.data.address,t.data=n.data,console.log(JSON.parse(JSON.stringify(n.data))),t.getOrderPayPrice();case 9:case"end":return e.stop()}}),e)})))()},getOrderPayPrice:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var a;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("order","getOrderPayPrice",{goods_price:t.goodsTotal,address_id:t.addr._id||"",coupon_id:t.curCoupon._id||""},{showLoading:t.payTotal>0});case 2:a=e.sent,t.payTotal=a.pay_price||0,t.fullReductionMoney=a.full_reduction_money;case 5:case"end":return e.stop()}}),e)})))()},createOrder:function(){var t=this;this.$util.throttle((0,o.default)((0,r.default)().mark((function e(){var a,i,o;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.addr._id){e.next=3;break}return t.$util.msg("请选择收货地址"),e.abrupt("return");case 3:return t.isLoading=!0,a=t.getCreateData(),i="cart"===t.createType?"addByCart":"addBuyNow",e.next=8,t.$request("order",i,a);case 8:o=e.sent,t.isLoading=!1,console.log(JSON.parse(JSON.stringify(o))),1===o.status?("cart"===t.createType&&(uni.$emit("refreshCart"),t.$store.dispatch("getCartCount")),uni.redirectTo({url:"/pages/wallet/pay?data="+JSON.stringify((0,n.default)({sourcePage:"createOrder"},o.data))})):t.$util.msg(o.msg);case 12:case"end":return e.stop()}}),e)}))))},getCreateData:function(){var t={remarks:this.remarks,address:this.addr,coupon_id:this.curCoupon._id||"",source_type:1};return"cart"===this.createType?t.ids=this.cartIds.split(","):t.product=this.data.products[0],t},setAddress:function(t){this.addr=t,this.getOrderPayPrice()},showCouponPopup:function(){this.data.coupons.length>0&&(this.$refs.couponSelect.curCoupon=this.curCoupon,this.$refs.couponSelect.open())},onCheckCoupon:function(t){this.curCoupon=t,this.getOrderPayPrice()}}};e.default=u},dba4:function(t,e,a){"use strict";a.r(e);var i=a("87d1"),n=a("c0d9");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("71d0"),a("5253");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"1c49b557",null,!1,i["a"],void 0);e["default"]=s.exports},e855:function(t,e,a){"use strict";a.r(e);var i=a("2998"),n=a("4400");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("11b8");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"4ea03ee2",null,!1,i["a"],void 0);e["default"]=s.exports},f165:function(t,e,a){var i=a("8027");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("710dea2a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);